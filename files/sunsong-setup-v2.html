<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Sunsong Cinema Setup</title>
<style>
  body { background: #080705; color: #e0d8cc; font-family: sans-serif; display: flex; align-items: center; justify-content: center; min-height: 100vh; margin: 0; padding: 20px; }
  .box { background: #111009; border: 1px solid rgba(200,164,74,0.2); padding: 48px; max-width: 540px; width: 100%; }
  h1 { font-size: 22px; color: #c8a44a; margin-bottom: 12px; font-weight: 400; }
  p { font-size: 14px; color: #635a4f; line-height: 1.7; margin-bottom: 28px; }
  label { font-size: 11px; letter-spacing: 0.14em; text-transform: uppercase; color: #c8a44a; display: block; margin-bottom: 8px; }
  input { width: 100%; background: rgba(255,255,255,0.03); border: 1px solid rgba(200,164,74,0.2); color: #e0d8cc; padding: 14px 16px; font-size: 14px; outline: none; box-sizing: border-box; margin-bottom: 20px; font-family: monospace; }
  input:focus { border-color: rgba(200,164,74,0.5); }
  button { width: 100%; background: #c8a44a; border: none; color: #080705; padding: 16px; font-size: 13px; letter-spacing: 0.14em; text-transform: uppercase; cursor: pointer; }
  button:hover { background: #e5d098; }
  .note { font-size: 11px; color: rgba(99,90,79,0.6); margin-top: 14px; line-height: 1.6; }
  .success { background: rgba(30,100,50,0.15); border: 1px solid rgba(50,180,100,0.2); padding: 16px; margin-top: 20px; font-size: 13px; color: #70e0a0; display: none; line-height: 1.6; }
  .err { color: #e07070; font-size: 13px; margin-top: 10px; display: none; }
</style>
</head>
<body>
<div class="box">
  <h1>Sunsong Cinema - Activate Search</h1>
  <p>Paste your Anthropic API key below. Your key never leaves your browser - the file is generated locally and downloaded directly to your computer.</p>

  <label>Your Anthropic API Key</label>
  <input type="password" id="keyInput" placeholder="sk-ant-api03-...">
  <div class="err" id="errMsg"></div>

  <button onclick="generate()">Download index.html with my key</button>

  <div class="success" id="success">
    File downloaded successfully!<br><br>
    Now go to your GitHub repository, click <strong>Add file</strong>, upload this new index.html, and commit. Your site will update within 30 seconds.
  </div>
  <div class="note">Your key is stored only in this file on your own computer. It is never sent anywhere by this tool.</div>
</div>

<script>
function generate() {
  var key = document.getElementById("keyInput").value.trim();
  var err = document.getElementById("errMsg");
  err.style.display = "none";

  if (!key || key.indexOf("sk-ant") !== 0) {
    err.textContent = "Please enter a valid Anthropic API key (starts with sk-ant-)";
    err.style.display = "block";
    return;
  }

  fetch("sunsong-clean.html")
    .then(function(r) { return r.text(); })
    .catch(function() {
      return null;
    })
    .then(function(template) {
      if (!template) {
        err.textContent = "Could not load template. Make sure both files are in the same folder.";
        err.style.display = "block";
        return;
      }
      var html = template.replace("PLACE_YOUR_KEY_HERE", key);
      var blob = new Blob([html], { type: "text/html" });
      var a = document.createElement("a");
      a.href = URL.createObjectURL(blob);
      a.download = "index.html";
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      document.getElementById("success").style.display = "block";
    });
}
</script>
</body>
</html>
